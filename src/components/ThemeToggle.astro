---
---
<button id="theme-toggle" aria-label="Toggle theme">
	<svg class="sun-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
		<circle cx="12" cy="12" r="5" stroke="currentColor" stroke-width="2"/>
		<path d="M12 1V3" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
		<path d="M12 21V23" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
		<path d="M4.22 4.22L5.64 5.64" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
		<path d="M18.36 18.36L19.78 19.78" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
		<path d="M1 12H3" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
		<path d="M21 12H23" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
		<path d="M4.22 19.78L5.64 18.36" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
		<path d="M18.36 5.64L19.78 4.22" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
	</svg>
	<svg class="moon-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
		<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
	</svg>
</button>

<style>
	#theme-toggle {
		background: none;
		border: none;
		cursor: pointer;
		color: var(--text-heading);
		padding: 0.5rem;
		border-radius: 50%;
		display: flex;
		align-items: center;
		justify-content: center;
		transition: background-color 0.2s, color 0.2s;
	}

	#theme-toggle:hover {
		background-color: rgba(128, 128, 128, 0.1);
		color: var(--accent);
	}

	.sun-icon, .moon-icon {
		display: none;
	}

	/* Logic handled by global CSS classes on html element */
	/* Light mode (default): show Moon icon (to switch to dark) */
	:global(html:not(.dark)) .moon-icon {
		display: block;
	}

	/* Dark mode: show Sun icon (to switch to light) */
	:global(html.dark) .sun-icon {
		display: block;
	}
	
	/* Default fallback if JS fails or loading - assume light mode */
	.sun-icon, .moon-icon {
		display: none;
	}
</style>

<script is:inline>
	const themeToggle = document.getElementById('theme-toggle');
	
	const handleToggleClick = () => {
		const element = document.documentElement;
		element.classList.toggle("dark");
		element.classList.toggle("light"); // Explicitly toggle light for CSS specificity if needed

		const isDark = element.classList.contains("dark");
		localStorage.setItem("theme", isDark ? "dark" : "light");
	}

	themeToggle.addEventListener('click', handleToggleClick);
</script>
